{% extends 'core/base.html' %}
{% block content %}

<a href="{% url 'item_list' %}" class="btn btn-link">&larr; Back to items</a>

<div class="row mt-3">

    <div class="col-md-6">
        {% if item.image %}
        <div class="position-relative">
            <img src="{{ item.image.url }}" class="img-fluid rounded shadow">
            {% if item.status == "CLAIMED" %}
            <span class="badge bg-success position-absolute top-0 end-0 m-3 shadow">
                Claimed
            </span>
            {% endif %}
        </div>
        {% endif %}
    </div>

    <div class="col-md-6">

        <h2 class="fw-bold">{{ item.title }}</h2>

        <div class="text-muted mb-3">
            <strong>Category:</strong> {{ item.category.name }}<br>
            <strong>Found at:</strong> {{ item.location_found }}<br>
            <strong>Date:</strong> {{ item.date_found }}
        </div>

        <p class="mb-4">{{ item.description }}</p>

        <!-- Claim button -->
        {% if item.status != "CLAIMED" %}
        <form method="POST" action="{% url 'item_claim' item.pk %}">
            {% csrf_token %}
            <button class="btn btn-success btn-lg w-100">Mark as claimed</button>
        </form>
        {% else %}
        <p class="alert alert-success text-center">This item has been claimed.</p>
        {% endif %}

    </div>
</div>

{% endblock %}
